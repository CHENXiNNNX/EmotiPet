1. 在建立连接的时候设备端发送的hello消息中携带UUID和MAC地址作为设备标识符
2. hello消息发送给服务器，由服务器进行设备信息确认，同时检测该设备是否已被激活。如果未被激活，则进入激活流程，激活流程是由服务器下发设备激活码，设备接收激活码，然后在特定网页上进行输入操作完成设备激活；如果已被激活，则完成连接
3. 完成连接后，设备端将持续传输音频帧到服务器，由服务器进行处理并反馈信息
4. 音频参数配置为：opus格式传输，16khz的采样率，单声道，60ms的帧持续时间
5. 全流程：联网 -> 激活检测 -> 唤醒词唤醒 -> 连接服务器
6. 通信JSON格式定义：
注意：所有JSON消息均采用UTF-8文本格式传输，不使用二进制格式
========================================= 设备端使用 =========================================
(1) activation ----- 暂时先不做激活流程
  {
    "type": "active",
    "version": 1.0,
    "device_name": "xxx",       // 设备的名字
    "device_id": "xxx",         // 设备的mac地址
    "client_id": "xxx",         // 设备的唯一标识符UUID
    "data": {
        /* 激活信息 */
    }
  }
(2) hello消息
  {
    "type": "hello",
    "version": 1.0,
    "transport": "websocket",     // 声明传输协议，便于后续协议更换
    "device_id": "xxx",           // 设备的MAC地址
    "client_id": "xx",            // 设备的唯一标识符UUID
    "features": {
        "aec": false,             // 可选，表示云端AEC，默认为false
        "mcp": false              // 可选，表示支持 MCP 协议，默认为false
    },
    "audio_params": {
        "format": "opus",
        "sample_rate": 16000,
        "channels": 1,
        "frame_duration": 60
    }
  }
(3) 资源同步
  {
    "type": "res_sync",
    "from": "xxx",                // 可写为设备的mac地址
    "to": "server",               
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        /* 同步内容 */
    }
  }
(4) 错误
  {
    "type": "error",
    "from": "xxx",                // 可写为设备的mac地址
    "to": "server",              
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        "code": xxx,             // 错误码，1000：资源不存在(暂定只有一个)
        "message": "错误描述信息"  // 错误描述信息
    }
  }
========================================= 设备端使用 =========================================

========================================= 服务器使用 =========================================
(1) hello应答消息
  {
    "type": "hello_ack",
    "version": 1.0,
    "transport": "websocket",     // 声明传输协议，便于后续协议更换
    "features": {
        "aec": false,             // 可选，表示云端AEC，默认为false
        "mcp": false              // 可选，表示支持 MCP 协议，默认为false
    },
  }  
(2) 命令格式
  {
    "type": "command",
    "from": "server",                // 可写为设备的mac地址和server等，方便扩展
    "to": "xxx",                  // 设备的标识符mac地址等，用于标识设备
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        "cmd": "play_sound",      // 命令列表暂定只有play_sound
        "sound_id": "4",          // 本地音频id
        "reason": "识别不出情绪，使用默认音效"  // 使用原因
    }
  }
(3) 资源同步
  {
    "type": "res_sync",
    "from": "server",                // 可写为设备的mac地址和server等，方便扩展
    "to": "xxx",                  // 设备的标识符mac地址等，用于标识设备
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        /* 同步内容 */
    }
  }
(4) 错误
  {
    "type": "error",
    "from": "server",                // 可写为设备的mac地址和server等，方便扩展
    "to": "xxx",                  // 设备的标识符mac地址等，用于标识设备
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        "code": 1000,             // 错误码
        "message": "错误描述信息"  // 错误描述信息
    }
  }
========================================= 服务器使用 =========================================