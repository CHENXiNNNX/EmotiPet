1.通信机制
(1)设备端与服务器之间采用websocket进行连接
(2)设备端需要服务器进行音频监听处理之前，会发送一条(5)音频监听的listen消息作为前提条件，告知服务器我这边的音频会上发并需要服务器进行处理回馈
(3)服务器需要下发音频之前，会发送一条(6)音频播放的play的消息作为前提条件，告知设备端马上会有一条音频会下发给它
(4)音频传输格式暂定为:
- OPUS 格式
- 16khz的采样率
(5)设备端与服务器之间需要保持长连接，设备端需要设置重连机制，保证连接稳定

注意:前期的测试，先不实现连接认证绑定环节

2. 通信JSON格式定义：
注意：所有JSON消息均采用UTF-8文本格式传输，不使用二进制格式
(1) 数据上传
  {
    "type": "transport_info",
    "from": "xxx",                           // 设备的mac地址
    "to": "server",
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
    "command": "00001",                      // 00001  对应摄像头打开进行上传，以此类推
    "data":{
      "touch": 0,                          // 触摸状态，0=未触摸，1=触摸
      "pressure": [                        // 压力传感器阵列，16个点位(0-15)
        0, 0, 0, 0,                            
        0, 0, 0, 0,                             
        0, 0, 0, 0,                             
        0, 0, 0, 0                               
      ],
      "gyroscope": {                       // 陀螺仪数据
        "x": 0.0,                          // X轴角速度，单位：deg/s
        "y": 0.0,                          // Y轴角速度，单位：deg/s
        "z": 0.0                           // Z轴角速度，单位：deg/s
      },
      "photosensitive": 0                  // 光敏值，整数，单位：lux
    }
  }
注意:command字段为5位字符串，每一位对应一个传感器：触摸-压力-陀螺仪-光敏-摄像头，0表示不上传该传感器数据，1表示上传该传感器数据。例如"00001"表示仅上传摄像头数据
注意:pressure字段为16个点位的压力传感器阵列，数组索引0-15对应不同的压力传感器点位，每个值为该点位的压力值（单位：Pa）。

(2) 蓝牙信息
  {
    "type": "bluetooth_info",
    "from": "xxx",                           // 设备的mac地址
    "to": "server",
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
    "data": {
      "rssi": -50,                            // 信号强度，整数，单位：dBm
      "opposite_mac": "xx:xx:xx:xx:xx:xx"     // 对方设备的mac地址，格式：xx:xx:xx:xx:xx:xx
    }
  }

(3) 数据接收
  {
    "type": "recv_info",
    "from": "server",
    "to": "xxx",                             // 设备的mac地址
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
    "command": "00001",      // 00001  表示仅上传摄像头数据，以此类推
  }
注意:command字段为5位字符串，每一位对应一个传感器：触摸-压力-陀螺仪-光敏-摄像头，0表示不上传该传感器数据，1表示上传该传感器数据。例如"00001"表示仅上传摄像头数据

(4) 运动数据接收
  {
    "type": "mov_info",
    "from": "server",                           
    "to": "xxx",                             // 设备的mac地址
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
    "data":{
        "servo_01": {
		    "move_part":"h1"                      // 运动部位（h1头1,h2头2，b1身体1，b2尾巴）
        "start_time": "0",                    // 运动的起始时间，按照第一个动作开始为0时间时间轴开始，之后的动作以第一个动作为时间基准    单位ms
        "angle": 90,                          // 舵机变换到指定角度，整数，范围：0-180（暂定限位，后续需要可扩展为每个舵机限制）
        "duration": 1000                      // 运动持续时间，整数，单位：毫秒
      },
      "servo_02": {
		    "move_part":"b1"
        "start_time": "2000", // 指在第一个动作开始后的2s开始
        "angle": 90,
        "duration": 1000                      
      }         
      ...
    }     
  }

(5) 音频监听
  {
    "type": "listen",
    "from": "xxx",                           // 设备的mac地址
    "to": "server",
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
  }

(6) 音频播放
  {
    "type": "play",
    "from": "server",                           
    "to": "xxx",                             // 设备的mac地址
    "timestamp": "2025-03-12T19:00:00Z",     // ISO 8601时间戳
  }

(7) 情绪回馈
  {
    "type": "emotion",
    "from": "server",                     // 可写为设备的mac地址
    "to": "xxx",                          // 设备的mac地址              
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "code": "0"                           // 0：开心的  1：伤心的  2：生气的  3：平淡的  4：恐惧的  5：惊讶的  6：未知的
  }

(8) 错误
  {
    "type": "error",
    "from": "xxx",                // 可写为设备的mac地址
    "to": "server",              
    "timestamp": "2025-03-12T19:00:00Z",  // ISO 8601 格式时间戳
    "data": {
        "code": 1000,              // 错误码，整数
        "message": "错误描述信息"   // 错误描述信息，字符串
    }
  }

